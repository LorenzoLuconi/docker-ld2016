= Docker! Chi era costui?
Lorenzo Luconi Trombacchi <lorenzo@reality.it>
Cristian Lucchesi <cristian.lucchesi@gmail.com>
2016-10-22
:source-highlighter: highlightjs
:backend: revealjs
:revealjs_theme: night
:revealjs_slideNumber: true

== Docker! Chi era costui?

breve viaggio nel mondo di Docker per scoprire perché a soli 3 anni
dalla sua nascita è così popolare e per capire se si tratta veramente
di rivoluzione o semplicemente di una delle tante mode passeggere. In
questo tutorial utilizzeremo un approccio pratico, illustreremo i
concetti e comandi di base di Docker.

Imparerai ad utilizzare i volumi, fare le build delle proprie immagini e vedremo quali sono gli utilizzi più frequenti e quali i punti di forza e debolezza di Docker. 

== Docker

Docker is an open platform to build, ship, and run any application, anywhere. It can be used in many ways: providing clean, isolated development environments; quickly spinning up test instances for CI purposes; ensuring coherence between development and production platform; and much more. In this hands-on tutorial, you will learn basic Docker concepts, and use it to run Python applications.

== Docker: sulle spalle dei giganti
[%step]
 * LXC Containers
 * Kernel namespaces
 * CGroups - Control Groups
 
== LXC Containers

* Disponibili nei kernel moderni dal 2008
* permette di isolare l'utilizzo delle risorse (CPU, memoria, disco, network)
* Garantiscie le risorse ad un insieme di applicationi
* può essere regolata al volo
* può monitorare i cgroup per visualizzarne l'utilizzo

== Kernel namespaces

* isola le viste del sistema
* può permettere ad un processo di credere di essere l'unico processo
* modalità built-in  di "virtualizzare" un processo

== Kernel namespaces ^(cont)^

* mount points, filesystem (mnt)
* processi (pid)
* network stack (net)
* inter-process comms (ipc)
* hostname (uts)
* UIDs (user)

== CGroups - Control Groups

* Built into Kernel
* 
== LXC Container != VM

* http://imesh.github.io/images/contvsvm.png

== La famiglia Docker

* Mettere immagine famiglia bredford - http://www.retroland.com/wp-content/uploads/2012/05/Eight-is-Enough.jpg

== La famiglia Docker ^(cont)^

* Docker engine
* Docker Hub
* Docker Trusted Registry
* Docker Compone
* Docker Machine
* Docker Swarm

== Docker engine

* Docker è un'applicazione client/server
* il Docker client invia i comandi al demone Docker che esegue le operazioni
* demone e client docker sono scritti in Go
* il demone Docker espone anche una API RestFul

== Immagini Docker

* template Read-only da cui sono avviati i container
* ogni immagni è formata da un'insieme di livelli (layer) utilizzando *Union File System*
* quando un'immagine viene modifica  un nuovo layer viene creato
* docker puà utilizzare anche altri tipi di filesystem


== Docker engine: let's start!

[source,bash]
----
$ docker run busybox echo hello world
hello world
----

[NOTE.speaker]
--
$ docker run -it ubuntu bash

This is a brand new container.
* It runs a bare-bones, no-frills ubuntu system.
* -it is shorthand for -i -t.
* -i tells Docker to connect us to the container's stdin.
* -t tells Docker that we want a pseudo-terminal.
--



